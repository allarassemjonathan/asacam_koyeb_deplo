{% extends "base.html" %}

{% block title %}Payment{% endblock %}
{% block content %}
<link href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@400;600&display=swap" rel="stylesheet" />
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

<style>
  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    font-family: 'Chakra Petch', sans-serif;
  }
  .center-wrapper {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 1rem;
    box-sizing: border-box;
  }
  .modal-content {
    background: rgba(0, 0, 0, 0.9);
    padding: 2rem;
    border-radius: 12px;
    width: 100%;
    max-width: 420px;
    box-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.15);
    color: white;
  }
</style>

<main class="center-wrapper">
  <div class="modal-content">
    <h2 style="margin-top: 0;">Complete Your Subscription</h2>
    <p style="color: rgba(255, 255, 255, 0.8); margin-bottom: 1.5rem;">
      Hi {{ user_data.first_name }}, please complete your payment to create your account and start your subscription.
    </p>
    <!-- Add this section before the existing subscription details -->
    <div style="
      border: 1px solid rgba(255, 255, 255, 0.15);
      padding: 1.2rem;
      border-radius: 8px;
      background: rgba(255, 255, 255, 0.02);
      margin-bottom: 1rem;
    ">
      <h3 style="margin: 0 0 0.5rem;">üìπ Your Camera Plan</h3>
      <p style="margin: 0 0 0.5rem;">{{ num_cameras }} camera(s)</p>
      <p style="margin: 0; font-size: 0.9rem; color: rgba(255, 255, 255, 0.7);">
        Monitor {{ num_cameras }} camera{{ 's' if num_cameras != 1 else '' }} with AI-powered security
      </p>
    </div>
    <div style="
      border: 1px solid rgba(255, 255, 255, 0.15);
      padding: 1.2rem;
      border-radius: 8px;
      background: rgba(255, 255, 255, 0.02);
      margin-bottom: 1rem;
    ">
      <h3 style="margin: 0 0 0.5rem;">Account Details</h3>
      <p style="margin: 0 0 0.3rem; font-size: 0.9rem;">
        <strong>Email:</strong> {{ user_data.email }}
      </p>
      <p style="margin: 0; font-size: 0.9rem;">
        <strong>Name:</strong> {{ user_data.first_name }} {{ user_data.last_name }}
      </p>
    </div>

    <div style="
      border: 1px solid rgba(255, 255, 255, 0.15);
      padding: 1.2rem;
      border-radius: 8px;
      background: rgba(255, 255, 255, 0.02);
      margin-bottom: 1.5rem;
    ">
      <h3 style="margin: 0 0 0.5rem;">Monthly App Access</h3>
      <p style="margin: 0 0 0.5rem;">Monthly subscription for full app access</p>
      <h4 style="margin: 0 0 0.5rem; color: #ffffff;">Price: ${{34.90* num_cameras}}/month</h4>
      <p style="margin: 0; font-size: 0.9rem; color: rgba(255, 255, 255, 0.7);">
        Cancel anytime ‚Ä¢ Auto-renews monthly
      </p>
    </div>

    <form method="POST">
      <button type="submit" class="btn primary" style="
        background: white;
        color: black;
        padding: 0.75rem 1.5rem;
        border: none;
        border-radius: 6px;
        font-size: 1rem;
        cursor: pointer;
        width: 100%;
        margin-bottom: 1rem;
      ">
        Start Subscription
      </button>
    </form>

    <p style="margin-top: 1.5rem; font-size: 0.9rem; text-align: center; color: rgba(255, 255, 255, 0.6);">
      <small>Secure payment processed by Stripe</small><br>
      <small>You can cancel your subscription at any time</small><br>
      <a href="{{ url_for('register') }}" style="color: white; text-decoration: underline;">‚Üê Back to Registration</a>
    </p>
  </div>
</main>
{% endblock %}